---
layout: ../../../layouts/PostLayout.astro
title: –ù–µ–¥–æ–æ—Ü–∏–Ω–µ–Ω–Ω–∞—è —Ñ–∏—á–∞ as const –≤ TypeScript
date: 2024-01-02
authors: ["–û–ª–∂–∞—Å –ö—É—Ä–∏–∫–æ–≤"]
description: –ö–∞–∫ –º–æ–∂–Ω–æ –∫—Ä—É—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å as const –≤ TypeScript
draft: false
category: TypeScript
slug: as-const-sovier
tags: ["javascript", "typescript"]
heroImageUrl: /posts/as-const/hero.png
---
import CodeBlock from "@components/CodeBlock";

–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —É –Ω–∞—Å –µ—Å—Ç—å –ø—Ä–æ—Å—Ç–æ–π –æ–±—ä–µ–∫—Ç JavaScript:

<CodeBlock>
```ts

const players = {
    forward: 'Jota',
    midfield: 'Endo',
    keeper: 'Alisson'
}
````
</CodeBlock>

–ê —Ç–µ–ø–µ—Ä—å –ø—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏—è `getPlayer`, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º –æ–¥–Ω–æ –∏–∑ –∑–Ω–∞—á–µ–Ω–∏–π `players`. –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ
–≤–∞–º –±—ã —Ö–æ—Ç–µ–ª–æ—Å—å —Å–¥–µ–ª–∞—Ç—å –≤–æ—Ç —Ç–∞–∫ (–≤–æ–∑–º–æ–∂–Ω–æ –¥–∞–∂–µ `any` üòè):

<CodeBlock>
```ts

function getPlayer(p: 'Jota' | 'Endo' | 'Alisson') {}
```
</CodeBlock>

–î–∞–≤–∞–π—Ç–µ –±—É–¥–µ–º —á–µ—Å—Ç–Ω—ã - —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç –Ω–∞ 100% –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–º –Ω–∞ –±–∞–≥, –µ—Å–ª–∏ –∫–æ–Ω–µ—á–Ω–æ
–ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç —Ç–æ—á—å –≤ —Ç–æ—á—å:

<CodeBlock>
```ts

function getPlayer('Jota') {}
function getPlayer('Endo') {}
function getPlayer('Alisson') {}
```
</CodeBlock>

–û–¥–Ω–∞–∫–æ —á—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç, –µ—Å–ª–∏ –º—ã –±—É–¥–µ–º –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç –∫–∞–∫ –Ω–∏–∂–µ:

<CodeBlock>
```ts

getPlayer(players.forward) // ts-error expecting "Jota" | "Endo" | "Alisson", but you passed string
```
</CodeBlock>

TypeScript –∫–æ–Ω–µ—á–Ω–æ –∂–µ –±—É–¥–µ—Ç —Ä—É–≥–∞—Ç—å—Å—è, –ø–æ–∫–∞–∑—ã–≤–∞—è —á—Ç–æ –º—ã –ø–µ—Ä–µ–¥–∞–µ–º —Å—Ç—Ä–æ–∫—É, –∞ –Ω–µ "Jota" | "Endo" | "Alisson".
–í—Å–µ –∏–∑-–∑–∞ —Ç–æ–≥–æ, —á—Ç–æ –≤ JavaScript —Å–≤–æ–π—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –∏ –±–µ–∑ –ø—Ä–æ–±–ª–µ–º –ø–æ–º–µ–Ω—è—Ç—å:

<CodeBlock>
```ts

players.forward = 'Garnacho'
```
</CodeBlock>

–ú—ã –º–æ–∂–µ–º –∏—Å–ø—Ä–∞–≤–∏—Ç—å —ç—Ç—É —Å–∏—Ç—É–∞—Ü–∏—é –≤ –∫–æ–Ω—Ü–µ –æ–±—ä–µ–∫—Ç–∞ –¥–æ–±–∞–≤–∏–≤ `as const`:

<CodeBlock>
```ts

const players = {
    forward: 'Jota',
    midfield: 'Endo',
    keeper: 'Alisson'
} as const
````
</CodeBlock>

–ò —Ç–µ–ø–µ—Ä—å, –µ—Å–ª–∏ –º—ã –ø–æ–ø—ã—Ç–∞–µ–º—Å—è –∏–∑–º–µ–Ω–∏—Ç—å –æ–±—ä–µ–∫—Ç, –∫–∞–∫ —Ä–∞–Ω—å—à–µ, TypeScript —Å—Ä–∞–∑—É –∂–µ –ø–æ–¥—á–µ—Ä–∫–Ω–µ—Ç –µ–≥–æ —Å –æ—à–∏–±–∫–æ–π:

<CodeBlock>
```ts

players.forward = 'Garnacho' // ts-error: Cannot assign to 'forward' because it is a read-only property.
```
</CodeBlock>

–ò—Ç–∞–∫, –º—ã —É–∑–Ω–∞–µ–º —Ç–æ, —á—Ç–æ `as const` –¥–µ–ª–∞–µ—Ç —Å–≤–æ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–∞ `readonly`.
–û–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ `Object.freeze`, –∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º —Ç–æ–≥–æ, —á—Ç–æ Object.freeze –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –≥–ª—É–±–æ–∫–æ –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏:

<CodeBlock>
```ts

const players = Object.freeze({
    forward: 'Jota',
    midfield: 'Endo',
    keeper: 'Alisson'
})

players.forward = 'Garnacho' // same error as before (read-only property)

// BUT
const players = Object.freeze({
    forward: 'Jota',
    midfield: 'Endo',
    keeper: 'Alisson',
    coach: {
        manager: 'Klopp'
    }
})

players.coach.manager = 'Alonso' // no problem 
````
</CodeBlock>

–î–∞–≤–∞–π—Ç–µ —Ç–µ–ø–µ—Ä—å –≤–µ—Ä–Ω–µ–º—Å—è –∫ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–º—Å—è –≤–µ—â–∞–º –∏ —Ä–µ—à–∏–º –∏—Ö, —Å–æ–∑–¥–∞–≤ –¥–ª—è —ç—Ç–æ–≥–æ —Ç–∏–ø:

<CodeBlock>
```ts

type Player = (typeof players)[keyof typeof players] // "Jota" | "Endo" | "Alisson"
```
</CodeBlock>

–ü–æ —Å—É—Ç–∏, –º—ã –¥–µ–ª–∞–µ–º Object.values –¥–ª—è `players`, –Ω–æ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ç–∏–ø–∞. 
–¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –ø–µ—Ä–µ–¥–∞—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç –Ω–∞—à–µ–π —Ñ—É–Ω–∫—Ü–∏–∏ –ª—é–±—ã–º —Å–ø–æ—Å–æ–±–æ–º:

<CodeBlock>
```ts

function getPlayer("Jota") // no problem
function getPlayer(players.forward) // no problem
```
</CodeBlock>

–ü–æ–ª—å–∑—É–π—Ç–µ—Å—å üòâ –∏ –Ω–µ –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª—è–π—Ç–µ)