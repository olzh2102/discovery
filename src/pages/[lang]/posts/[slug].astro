---
import { LOCALES, SLUG_MAP } from '@common/constants';
import { getEntry } from 'astro:content'

const { pathname } = Astro.url;
const { lang, slug } = Astro.params as { lang: keyof typeof LOCALES, slug: keyof typeof SLUG_MAP }

const page = await getEntry('post', SLUG_MAP[slug][lang] || slug)

if (!page) return Astro.redirect('/404/')

const { Content } = await page.render()
---

<Content />
